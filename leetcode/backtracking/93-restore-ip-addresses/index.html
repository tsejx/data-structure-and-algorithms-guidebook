<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"
    />
    <link rel="shortcut icon" type="image/x-icon" href="./favicon.ico" />
    <link
      rel="stylesheet"
      href="/data-structure-and-algorithms-guidebook/umi.331878c1.css"
    />
    <script>
      window.routerBase = "/data-structure-and-algorithms-guidebook/";
    </script>
    <script>
      //! umi version: 3.5.20
    </script>
    <script>
      !(function () {
        var e = localStorage.getItem("dumi:prefers-color"),
          t = window.matchMedia("(prefers-color-scheme: dark)").matches,
          r = ["light", "dark", "auto"];
        document.documentElement.setAttribute(
          "data-prefers-color",
          e === r[2] ? (t ? r[1] : r[0]) : r.indexOf(e) > -1 ? e : r[0]
        );
      })();
    </script>
    <title>93 - 复原 IP 地址 - Data Structure and Algorithms Guidebook</title>
  </head>
  <body>
    <div id="root"><div class="__dumi-default-layout" data-route="/leetcode/backtracking/93-restore-ip-addresses" data-show-sidemenu="true" data-show-slugs="true" data-site-mode="true" data-gapless="false"><div class="__dumi-default-navbar" data-mode="site"><button class="__dumi-default-navbar-toggle"></button><a class="__dumi-default-navbar-logo" style="background-image:url(&#x27;http://img.mrsingsing.com/data-structure-and-algorithms-favicon.svg&#x27;)" href="/data-structure-and-algorithms-guidebook//">Data Structure and Algorithms Guidebook</a><nav><div class="__dumi-default-search"><input type="search" class="__dumi-default-search-input" value=""/><ul></ul></div><span><a href="/data-structure-and-algorithms-guidebook//data-structure">数据结构</a></span><span><a href="/data-structure-and-algorithms-guidebook//algorithms">算法</a></span><span><a aria-current="page" class="active" href="/data-structure-and-algorithms-guidebook//leetcode">LeetCode</a></span><span><a href="/data-structure-and-algorithms-guidebook//front-end">前端编程</a></span><span><a href="/data-structure-and-algorithms-guidebook//extensions">扩展</a></span><span><a target="_blank" rel="noopener noreferrer" href="https://github.com/tsejx/data-structure-and-algorithms-guidebook">Github<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></span><div class="__dumi-default-navbar-tool"><div class="__dumi-default-dark"><div class="__dumi-default-dark-switch "></div></div></div></nav></div><div class="__dumi-default-menu" data-mode="site"><div class="__dumi-default-menu-inner"><div class="__dumi-default-menu-header"><a class="__dumi-default-menu-logo" style="background-image:url(&#x27;http://img.mrsingsing.com/data-structure-and-algorithms-favicon.svg&#x27;)" href="/data-structure-and-algorithms-guidebook//"></a><h1>Data Structure and Algorithms Guidebook</h1><p>数据结构与算法完全知识体系</p></div><div class="__dumi-default-menu-mobile-area"><ul class="__dumi-default-menu-nav-list"><li><a href="/data-structure-and-algorithms-guidebook//data-structure">数据结构</a></li><li><a href="/data-structure-and-algorithms-guidebook//algorithms">算法</a></li><li><a aria-current="page" class="active" href="/data-structure-and-algorithms-guidebook//leetcode">LeetCode</a></li><li><a href="/data-structure-and-algorithms-guidebook//front-end">前端编程</a></li><li><a href="/data-structure-and-algorithms-guidebook//extensions">扩展</a></li><li><a target="_blank" rel="noopener noreferrer" href="https://github.com/tsejx/data-structure-and-algorithms-guidebook">Github<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul><div class="__dumi-default-dark"><div class="__dumi-default-dark-switch "><button title="Dark theme" class="__dumi-default-dark-moon "><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3854" width="22" height="22"><path d="M991.816611 674.909091a69.166545 69.166545 0 0 0-51.665455-23.272727 70.795636 70.795636 0 0 0-27.438545 5.585454A415.674182 415.674182 0 0 1 754.993338 698.181818c-209.594182 0-393.472-184.785455-393.472-395.636363 0-52.363636 38.539636-119.621818 69.515637-173.614546 4.887273-8.610909 9.634909-16.756364 14.103272-24.901818A69.818182 69.818182 0 0 0 384.631156 0a70.842182 70.842182 0 0 0-27.438545 5.585455C161.678429 90.298182 14.362065 307.898182 14.362065 512c0 282.298182 238.824727 512 532.38691 512a522.286545 522.286545 0 0 0 453.957818-268.334545A69.818182 69.818182 0 0 0 991.816611 674.909091zM546.679156 954.181818c-248.785455 0-462.941091-192-462.941091-442.181818 0-186.647273 140.637091-372.829091 300.939637-442.181818-36.817455 65.629091-92.578909 151.970909-92.578909 232.727273 0 250.181818 214.109091 465.454545 462.917818 465.454545a488.331636 488.331636 0 0 0 185.181091-46.545455 453.003636 453.003636 0 0 1-393.565091 232.727273z m103.656728-669.323636l-14.266182 83.781818a34.909091 34.909091 0 0 0 50.362182 36.770909l74.775272-39.563636 74.752 39.563636a36.142545 36.142545 0 0 0 16.174546 3.956364 34.909091 34.909091 0 0 0 34.210909-40.727273l-14.289455-83.781818 60.509091-59.345455a35.025455 35.025455 0 0 0-19.223272-59.578182l-83.61891-12.101818-37.376-76.101818a34.56 34.56 0 0 0-62.254545 0l-37.376 76.101818-83.618909 12.101818a34.909091 34.909091 0 0 0-19.246546 59.578182z m70.423272-64.698182a34.280727 34.280727 0 0 0 26.135273-19.083636l14.312727-29.090909 14.336 29.090909a34.257455 34.257455 0 0 0 26.135273 19.083636l32.046546 4.887273-23.272728 22.574545a35.234909 35.234909 0 0 0-10.007272 30.952727l5.46909 32.116364-28.625454-15.127273a34.490182 34.490182 0 0 0-32.302546 0l-28.695272 15.127273 5.469091-32.116364a35.141818 35.141818 0 0 0-9.984-30.952727l-23.272728-22.574545z" p-id="3855"></path></svg></button><button title="Light theme" class="__dumi-default-dark-sun "><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4026" width="22" height="22"><path d="M915.2 476.16h-43.968c-24.704 0-44.736 16-44.736 35.84s20.032 35.904 44.736 35.904H915.2c24.768 0 44.8-16.064 44.8-35.904s-20.032-35.84-44.8-35.84zM512 265.6c-136.704 0-246.464 109.824-246.464 246.4 0 136.704 109.76 246.464 246.464 246.464S758.4 648.704 758.4 512c0-136.576-109.696-246.4-246.4-246.4z m0 425.6c-99.008 0-179.2-80.128-179.2-179.2 0-98.944 80.192-179.2 179.2-179.2S691.2 413.056 691.2 512c0 99.072-80.192 179.2-179.2 179.2zM197.44 512c0-19.84-19.136-35.84-43.904-35.84H108.8c-24.768 0-44.8 16-44.8 35.84s20.032 35.904 44.8 35.904h44.736c24.768 0 43.904-16.064 43.904-35.904zM512 198.464c19.776 0 35.84-20.032 35.84-44.8v-44.8C547.84 84.032 531.84 64 512 64s-35.904 20.032-35.904 44.8v44.8c0 24.768 16.128 44.864 35.904 44.864z m0 627.136c-19.776 0-35.904 20.032-35.904 44.8v44.736C476.096 940.032 492.16 960 512 960s35.84-20.032 35.84-44.8v-44.736c0-24.768-16.064-44.864-35.84-44.864z m329.92-592.832c17.472-17.536 20.288-43.072 6.4-57.024-14.016-14.016-39.488-11.2-57.024 6.336-4.736 4.864-26.496 26.496-31.36 31.36-17.472 17.472-20.288 43.008-6.336 57.024 13.952 14.016 39.488 11.2 57.024-6.336 4.8-4.864 26.496-26.56 31.296-31.36zM213.376 759.936c-4.864 4.8-26.56 26.624-31.36 31.36-17.472 17.472-20.288 42.944-6.4 56.96 14.016 13.952 39.552 11.2 57.024-6.336 4.8-4.736 26.56-26.496 31.36-31.36 17.472-17.472 20.288-43.008 6.336-56.96-14.016-13.952-39.552-11.072-56.96 6.336z m19.328-577.92c-17.536-17.536-43.008-20.352-57.024-6.336-14.08 14.016-11.136 39.488 6.336 57.024 4.864 4.864 26.496 26.56 31.36 31.424 17.536 17.408 43.008 20.288 56.96 6.336 14.016-14.016 11.264-39.488-6.336-57.024-4.736-4.864-26.496-26.56-31.296-31.424z m527.168 628.608c4.864 4.864 26.624 26.624 31.36 31.424 17.536 17.408 43.072 20.224 57.088 6.336 13.952-14.016 11.072-39.552-6.4-57.024-4.864-4.8-26.56-26.496-31.36-31.36-17.472-17.408-43.072-20.288-57.024-6.336-13.952 14.016-11.008 39.488 6.336 56.96z" p-id="4027"></path></svg></button><button title="Default to system" class="__dumi-default-dark-auto "><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="11002" width="22" height="22"><path d="M127.658667 492.885333c0-51.882667 10.24-101.717333 30.378666-149.162666s47.786667-88.064 81.92-122.538667 75.093333-61.781333 122.538667-81.92 96.938667-30.378667 149.162667-30.378667 101.717333 10.24 149.162666 30.378667 88.405333 47.786667 122.88 81.92 61.781333 75.093333 81.92 122.538667 30.378667 96.938667 30.378667 149.162666-10.24 101.717333-30.378667 149.162667-47.786667 88.405333-81.92 122.88-75.093333 61.781333-122.88 81.92-97.28 30.378667-149.162666 30.378667-101.717333-10.24-149.162667-30.378667-88.064-47.786667-122.538667-81.92-61.781333-75.093333-81.92-122.88-30.378667-96.938667-30.378666-149.162667z m329.045333 0c0 130.048 13.994667 244.394667 41.984 343.381334h12.970667c46.762667 0 91.136-9.216 133.461333-27.306667s78.848-42.666667 109.568-73.386667 54.954667-67.242667 73.386667-109.568 27.306667-86.698667 27.306666-133.461333c0-46.421333-9.216-90.794667-27.306666-133.12s-42.666667-78.848-73.386667-109.568-67.242667-54.954667-109.568-73.386667-86.698667-27.306667-133.461333-27.306666h-11.605334c-28.672 123.562667-43.349333 237.909333-43.349333 343.722666z" p-id="11003"></path></svg></button></div></div></div><ul class="__dumi-default-menu-list"><li><a target="_blank" rel="noopener noreferrer">数组</a><ul><li><a href="/data-structure-and-algorithms-guidebook//leetcode/array/1-two-sum"><span>1 - 两数之和</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/array/15-three-sum"><span>15 - 三数之和</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/array/26-remove-duplicates-from-sorted-array"><span>26 - 删除排序数组中的重复项</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/array/27-remove-element"><span>27 - 移除元素</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/array/33-search-in-rotated-sorted-array"><span>33 - 搜索旋转排序数组</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/array/35-search-insert-position"><span>35 - 搜索插入位置</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/array/42-trapping-rain-water"><span>42 - 接雨水</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/array/56-merge-intervals"><span>56 - 合并区间</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/array/81-search-in-rotated-sorted-array-ii"><span>81 - 搜索旋转排序数组 II</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/array/88-merge-sorted-array"><span>88 - 合并两个有序数组</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/array/128-longest-consecutive-sequence"><span>128 - 最长连续序列</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/array/169-majority-element"><span>169 - 多数元素</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/array/179-largest-number"><span>179 - 最大数</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/array/217-contains-duplicate"><span>217 - 存在重复元素</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/array/219-contains-duplicate-ii"><span>219 - 存在重复元素 II</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/array/220-contains-duplicate-iii"><span>220 - 存在重复元素 III</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/array/268-missing-number"><span>268 - 缺失数字</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/array/283-move-zeroes"><span>283 - 移动零</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/array/287-find-the-duplicate-number"><span>287 - 寻找重复数</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/array/349-intersection-of-two-arrays"><span>349 - 两个数组的交集</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/array/384-shuffle-an-array"><span>384 - 打乱数组</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/array/407-trapping-rain-water-ii"><span>407 - 接雨水 II</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/array/509-fibonacci-number"><span>509 - 斐波那契数列</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/array/547-friend-circles"><span>547 - 朋友圈</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/array/674-longest-continuous-increasing-subsequence"><span>674 - 最长连续递增序列</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/array/695-max-area-of-island"><span>695 - 岛屿的最大面积</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/array/724-find-pivot-index"><span>724 - 寻找数组的中心索引</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/array/867-transpose-matrix"><span>867 - 转置矩阵</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/array/905-sort-array-by-parity"><span>905 - 按奇偶排序数组</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/array/1002-find-common-characters"><span>1002 - 查找常用字符串</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/array/1295-find-numbers-with-even-number-of-digits"><span>1295 - 统计位数为偶数的数字</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/array/interview-1-1-is-unique-lcci"><span>面试题 01.01 - 判断字符是否唯一</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/array/interview-1-2-check-permutation-lcci"><span>面试题 01.02 - 判定是否互为字符重排</span></a></li></ul></li><li><a target="_blank" rel="noopener noreferrer">字符串</a><ul><li><a href="/data-structure-and-algorithms-guidebook//leetcode/string/3-longest-substring-without-repeating-characters"><span>3 - 无重复字符的最长子串</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/string/5-longest-palindromic-substring"><span>5 - 最长回文子串</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/string/8-string-to-integer-atoi"><span>8 - 字符串转换整数</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/string/9-palindrome-number"><span>9 - 回文数</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/string/14-longest-common-prefix"><span>14 - 最长公共前缀</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/string/28-implement-strstr"><span>28 - 实现 strStr()</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/string/43-multiply-strings"><span>43 - 字符串相乘</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/string/58-length-of-last-word"><span>58 - 最后一个单词的长度</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/string/71-simplify-path"><span>71 - 简化路径</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/string/125-valid-palindrome"><span>125 - 验证回文串</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/string/151-reverse-words-in-a-string"><span>151 - 翻转字符串里的单词</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/string/165-compare-version-numbers"><span>165 - 比较版本号</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/string/211-design-add-and-search-words-data-structure"><span>211 - 添加与搜索单词 - 数据结构设计</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/string/242-valid-anagram"><span>242 - 有效的字母异位词</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/string/344-reverse-string"><span>344 - 反转字符串</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/string/387-first-unique-character-in-a-string"><span>387 - 字符串中的第一个唯一字符</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/string/415-add-strings"><span>415 - 字符串相加</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/string/434-number-of-segments-in-a-string"><span>415 - 字符串中的单词数</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/string/459-repeated-substring-pattern"><span>459 - 重复的子字符串</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/string/468-validate-ip-address"><span>468 - 验证 IP 地址</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/string/680-valid-palindrome-ii"><span>680 - 验证回文字符串 II</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/string/709-to-lower-case"><span>709 - 转换成小写字母</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/string/859-buddy-strings"><span>859 - 亲密字符串</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/string/917-reverse-only-letters"><span>917 - 仅仅反转字母</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/string/925-long-pressed-name"><span>925 - 长按键入</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/string/1108-defanging-an-ip-address"><span>1108 -  IP 地址无效化</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/string/1370-increasing-decreasing-string"><span>1370 - 上升下降字符串</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/string/1576-replace-all-s-to-avoid-consecutive-repeating-characters"><span>1576 -  替换所有的问号</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/string/1616-split-two-strings-to-make-palindrome"><span>1616 - 分割两个字符串得到回文串</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/string/5535-maximum-nesting-depth-of-the-parentheses"><span>5535 -  替换所有的问号</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/string/5543-largest-substring-between-two-equal-characters"><span>5543 -  两个相同字符之间的最长子字符串</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/string/offer-3-shu-zu-zhong-zhong-fu-de-shu-zi-lcof"><span>剑指 3 - 数组中重复的数字</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/string/offer-5-ti-huan-kong-ge-lcof"><span>剑指 5 - 替换空格</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/string/offer-38-zi-fu-chuan-de-pai-lie-lcof"><span>剑指 38 - 字符串的排列</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/string/offer-50-di-yi-ge-zhi-chu-xian-yi-ci-de-zi-fu-lcof"><span>剑指 50 - 第一只出现一次的字符</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/string/offer-58-1-fan-zhuan-dan-ci-shun-xu-lcof"><span>剑指 58 - 反转单词顺序</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/string/offer-58-2-zuo-xuan-zhuan-zi-fu-chuan-lcof"><span>剑指 58 - 左旋转字符串</span></a></li></ul></li><li><a target="_blank" rel="noopener noreferrer">链表</a><ul><li><a href="/data-structure-and-algorithms-guidebook//leetcode/linked-list/2-add-two-numbers"><span>2 - 两数相加</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/linked-list/11-container-with-most-water"><span>11 - 盛最多水的容器</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/linked-list/19-remove-nth-node-from-end-of-list"><span>19 - 删除链表的倒数第 N 个节点</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/linked-list/21-merge-two-sorted-lists"><span>21 - 合并两个有序链表</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/linked-list/23-merge-k-sorted-lists"><span>23 - 合并 K 个升序链表</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/linked-list/25-he-bing-liang-ge-pai-xu-de-lian-biao-lcof"><span>25 - 合并两个排序的链表</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/linked-list/141-linked-list-cycle"><span>141 - 环形链表</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/linked-list/142-linked-list-cycle-ii"><span>142 - 环形链表 II</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/linked-list/148-sort-list"><span>148 - 排序链表</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/linked-list/160-intersection-of-two-linked-lists"><span>160 - 相交链表</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/linked-list/206-reverse-linked-list"><span>206 - 反转链表</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/linked-list/234-palindrome-linked-list"><span>234 - 回文链表</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/linked-list/328-odd-even-linked-list"><span>328 - 奇偶链表</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/linked-list/876-middle-of-the-linked-list"><span>876 - 链表的中间结点</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/linked-list/912-sort-an-array"><span>912 - 排序数组</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/linked-list/offer-6-cong-wei-dao-tou-da-yin-lian-biao-lcof"><span>剑指 6 - 从尾到头打印链表</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/linked-list/offer-22-lian-biao-zhong-dao-shu-di-kge-jie-dian-lcof"><span>剑指 22 - 链表中倒数第 k 个节点</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/linked-list/offer-24-fan-zhuan-lian-biao-lcof"><span>剑指 24 - 反转链表</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/linked-list/offer-25-he-bing-liang-ge-pai-xu-de-lian-biao-lcof"><span>剑指 25 - 合并两个排序的链表</span></a></li></ul></li><li><a target="_blank" rel="noopener noreferrer">栈和队列</a><ul><li><a href="/data-structure-and-algorithms-guidebook//leetcode/stack-and-queue/20-valid-parentheses"><span>20 - 有效的括号</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/stack-and-queue/150-evaluate-reverse-polish-notation"><span>150 - 逆波兰表达式求值</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/stack-and-queue/155-min-stack"><span>155 - 最小栈</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/stack-and-queue/622-design-circular-queue"><span>622 - 设计循环队列</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/stack-and-queue/739-daily-temperatures"><span>739 - 每日温度</span></a></li></ul></li><li><a target="_blank" rel="noopener noreferrer">二叉树</a><ul><li><a href="/data-structure-and-algorithms-guidebook//leetcode/binary-tree/96-unique-binary-search-trees"><span>96 - 不同的二叉搜索树</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/binary-tree/98-validate-binary-search-tree"><span>98 - 验证二叉搜索树</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/binary-tree/1361-validate-binary-tree-tree-nodes"><span>1361 - 验证二叉树</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/binary-tree/offer-68-er-cha-shu-de-zui-jin-gong-gong-zu-xian-lcof"><span>剑指 68 - 二叉树的最近公共祖先</span></a></li></ul></li><li><a target="_blank" rel="noopener noreferrer">深度优先和广度优先</a><ul><li><a href="/data-structure-and-algorithms-guidebook//leetcode/graph/200-number-of-islands"><span>200 - 岛屿数量</span></a></li></ul></li><li><a target="_blank" rel="noopener noreferrer">贪心算法</a><ul><li><a href="/data-structure-and-algorithms-guidebook//leetcode/greedy-algorithms/455-assign-cookies"><span>455 - 分发饼干</span></a></li></ul></li><li><a target="_blank" rel="noopener noreferrer">回溯算法</a><ul><li><a href="/data-structure-and-algorithms-guidebook//leetcode/backtracking/17-letter-combinations-of-a-phone-number"><span>17 - 电话号码的字母组合</span></a></li><li><a aria-current="page" class="active" href="/data-structure-and-algorithms-guidebook//leetcode/backtracking/93-restore-ip-addresses"><span>93 - 复原 IP 地址</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/backtracking/interview-8-12-eight-queens-lcci"><span>面试题 08.12 - 八皇后</span></a></li></ul></li><li><a target="_blank" rel="noopener noreferrer">动态规划</a><ul><li><a href="/data-structure-and-algorithms-guidebook//leetcode/dynamic-programming/53-maximum-subarray"><span>53 - 最大子序和</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/dynamic-programming/55-jump-game"><span>55 - 跳跃游戏</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/dynamic-programming/62-unique-paths"><span>62 - 不同路径</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/dynamic-programming/63-unique-paths-ii"><span>63 - 不同路径 II</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/dynamic-programming/64-minimum-path-sum"><span>64 - 最小路径和</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/dynamic-programming/70-climbing-stairs"><span>70 - 爬楼梯</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/dynamic-programming/121-best-time-to-buy-and-sell-stock"><span>121 - 买卖股票的最佳时机</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/dynamic-programming/122-best-time-to-buy-and-sell-stock-ii"><span>122 - 买卖股票的最佳时机 II</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/dynamic-programming/123-best-time-to-buy-and-sell-stock-iii"><span>123 - 买卖股票的最佳时机 III</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/dynamic-programming/198-house-robber"><span>198 - 打家劫舍</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/dynamic-programming/213-house-robber-ii"><span>198 - 打家劫舍</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/dynamic-programming/221-maximal-square"><span>221 - 最大正方形</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/dynamic-programming/300-longest-increasing-subsequence"><span>300 - 最长递增子序列</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/dynamic-programming/322-coin-change"><span>322 - 零钱兑换</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/dynamic-programming/416-partition-equal-subset-sum"><span>416 - 分割等和子集</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/dynamic-programming/474-ones-and-zeros"><span>474 - 一和零</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/dynamic-programming/494-target-sum"><span>494 - 目标和</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/dynamic-programming/509-fibonacci-number"><span>509 - 斐波那契数</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/dynamic-programming/518-coin-change-2"><span>518 - 零钱兑换 II</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/dynamic-programming/980-unique-paths-iii"><span>980 - 不同路径 III</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/dynamic-programming/1143-longest-common-subsequence"><span>1143 - 最长公共子序列</span></a></li></ul></li><li><a target="_blank" rel="noopener noreferrer">数学</a><ul><li><a href="/data-structure-and-algorithms-guidebook//leetcode/math/60-permutation-sequence"><span>60 - 第 K 个排列</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/math/233-number-of-digit-one"><span>233 - 数字 1 的个数</span></a></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/math/offer-2-004-single-number"><span>剑指 II 4 - 只出现一次的数字</span></a></li></ul></li><li><a href="/data-structure-and-algorithms-guidebook//leetcode/integer">Integer</a><ul><li><a href="/data-structure-and-algorithms-guidebook//leetcode/integer/offer"><span>Offer</span></a></li></ul></li></ul></div></div><ul role="slug-list" class="__dumi-default-layout-toc"><li title="解题思路" data-depth="2"><a href="/data-structure-and-algorithms-guidebook//leetcode/backtracking/93-restore-ip-addresses#解题思路"><span>解题思路</span></a></li></ul><div class="__dumi-default-layout-content"><div class="markdown"><h1 id="复原-ip-地址"><a aria-hidden="true" tabindex="-1" href="/data-structure-and-algorithms-guidebook//leetcode/backtracking/93-restore-ip-addresses#复原-ip-地址"><span class="icon icon-link"></span></a>复原 IP 地址</h1><p><code>字符串</code> <code>回溯算法</code></p><p>给定一个只包含数字的字符串，复原它并返回所有可能的 IP 地址格式。</p><p>有效的 IP 地址 正好由四个整数（每个整数位于 0 到 255 之间组成，且不能含有前导 0），整数之间用 <code>.</code> 分隔。</p><p>例如：<code>0.1.2.201</code> 和 <code>192.168.1.1</code> 是 有效的 IP 地址，但是 <code>0.011.255.245</code>、<code>192.168.1.312</code> 和 <code>192.168@1.1</code> 是 无效的 IP 地址。</p><p>示例 1：</p><div class="__dumi-default-code-block"><pre class="prism-code language-plain"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">输入：s = &quot;25525511135&quot;</span></div><div class="token-line"><span class="token plain">输出：[&quot;255.255.11.135&quot;,&quot;255.255.111.35&quot;]</span></div></pre></div><p>示例 2：</p><div class="__dumi-default-code-block"><pre class="prism-code language-plain"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">输入：s = &quot;0000&quot;</span></div><div class="token-line"><span class="token plain">输出：[&quot;0.0.0.0&quot;]</span></div></pre></div><p>示例 3：</p><div class="__dumi-default-code-block"><pre class="prism-code language-plain"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">输入：s = &quot;1111&quot;</span></div><div class="token-line"><span class="token plain">输出：[&quot;1.1.1.1&quot;]</span></div></pre></div><p>示例 4：</p><div class="__dumi-default-code-block"><pre class="prism-code language-plain"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">输入：s = &quot;010010&quot;</span></div><div class="token-line"><span class="token plain">输出：[&quot;0.10.0.10&quot;,&quot;0.100.1.0&quot;]</span></div></pre></div><p>示例 5：</p><div class="__dumi-default-code-block"><pre class="prism-code language-plain"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">输入：s = &quot;101023&quot;</span></div><div class="token-line"><span class="token plain">输出：[&quot;1.0.10.23&quot;,&quot;1.0.102.3&quot;,&quot;10.1.0.23&quot;,&quot;10.10.2.3&quot;,&quot;101.0.2.3&quot;]</span></div></pre></div><p>提示：</p><ul><li><code>0 &lt;= s.length &lt;= 3000</code></li><li><code>s</code> 仅由数字组成</li></ul><h2 id="解题思路"><a aria-hidden="true" tabindex="-1" href="/data-structure-and-algorithms-guidebook//leetcode/backtracking/93-restore-ip-addresses#解题思路"><span class="icon icon-link"></span></a>解题思路</h2><p>由于我们需要找出所有可能复原出的 IP 地址，因此可以考虑使用递归的方法，对所有可能的字符串分隔方式进行搜索，并筛选出满足要求的作为答案。</p><p>设题目中给出的字符串为 <code>s</code>。我们用递归函数 <code>dfs(segId, segStart)</code> 表示我们正在从 <code>s[segStart]</code> 的位置开始，搜索 IP 地址中的第 <code>segId</code> 段，其中 <span class="math math-inline"><mjx-container className="MathJax" jax="SVG"><svg style="vertical-align:-0.464ex" xmlns="http://www.w3.org/2000/svg" width="15.82ex" height="2.034ex" role="img" focusable="false" viewBox="0 -694 6992.6 899" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-1-TEX-I-1D460" d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z"></path><path id="MJX-1-TEX-I-1D452" d="M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z"></path><path id="MJX-1-TEX-I-1D454" d="M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z"></path><path id="MJX-1-TEX-I-1D43C" d="M43 1Q26 1 26 10Q26 12 29 24Q34 43 39 45Q42 46 54 46H60Q120 46 136 53Q137 53 138 54Q143 56 149 77T198 273Q210 318 216 344Q286 624 286 626Q284 630 284 631Q274 637 213 637H193Q184 643 189 662Q193 677 195 680T209 683H213Q285 681 359 681Q481 681 487 683H497Q504 676 504 672T501 655T494 639Q491 637 471 637Q440 637 407 634Q393 631 388 623Q381 609 337 432Q326 385 315 341Q245 65 245 59Q245 52 255 50T307 46H339Q345 38 345 37T342 19Q338 6 332 0H316Q279 2 179 2Q143 2 113 2T65 2T43 1Z"></path><path id="MJX-1-TEX-I-1D451" d="M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z"></path><path id="MJX-1-TEX-N-2208" d="M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540T469 540H568Q583 532 583 520Q583 511 570 501L466 500Q355 499 329 494Q280 482 242 458T183 409T147 354T129 306T124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112T231 48T328 7Q355 1 466 0H570Q583 -10 583 -20Q583 -32 568 -40H471Q464 -40 446 -40T417 -41Q262 -41 172 45Q84 127 84 250Z"></path><path id="MJX-1-TEX-N-30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path><path id="MJX-1-TEX-N-2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path><path id="MJX-1-TEX-N-31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path><path id="MJX-1-TEX-N-32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path><path id="MJX-1-TEX-N-33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664Q351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336T375 315Q457 262 457 175Q457 96 395 37T238 -22Q158 -22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94T148 82T136 74T126 70T118 67L114 66Q165 21 238 21Q293 21 321 74Q338 107 338 175V195Q338 290 274 322Q259 328 213 329L171 330L168 332Q166 335 166 348Q166 366 174 366Q202 366 232 371Q266 376 294 413T322 525V533Q322 590 287 612Q265 626 240 626Q208 626 181 615T143 592T132 580H135Q138 579 143 578T153 573T165 566T175 555T183 540T186 520Q186 498 172 481T127 463Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><use data-c="1D460" xlink:href="#MJX-1-TEX-I-1D460"></use></g><g data-mml-node="mi" transform="translate(469,0)"><use data-c="1D452" xlink:href="#MJX-1-TEX-I-1D452"></use></g><g data-mml-node="mi" transform="translate(935,0)"><use data-c="1D454" xlink:href="#MJX-1-TEX-I-1D454"></use></g><g data-mml-node="mi" transform="translate(1412,0)"><use data-c="1D43C" xlink:href="#MJX-1-TEX-I-1D43C"></use></g><g data-mml-node="mi" transform="translate(1916,0)"><use data-c="1D451" xlink:href="#MJX-1-TEX-I-1D451"></use></g><g data-mml-node="mo" transform="translate(2713.8,0)"><use data-c="2208" xlink:href="#MJX-1-TEX-N-2208"></use></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(3658.6,0)"><g data-mml-node="mn"><use data-c="30" xlink:href="#MJX-1-TEX-N-30"></use></g><g data-mml-node="mo" transform="translate(500,0)"><use data-c="2C" xlink:href="#MJX-1-TEX-N-2C"></use></g><g data-mml-node="mn" transform="translate(944.7,0)"><use data-c="31" xlink:href="#MJX-1-TEX-N-31"></use></g><g data-mml-node="mo" transform="translate(1444.7,0)"><use data-c="2C" xlink:href="#MJX-1-TEX-N-2C"></use></g><g data-mml-node="mn" transform="translate(1889.3,0)"><use data-c="32" xlink:href="#MJX-1-TEX-N-32"></use></g><g data-mml-node="mo" transform="translate(2389.3,0)"><use data-c="2C" xlink:href="#MJX-1-TEX-N-2C"></use></g><g data-mml-node="mn" transform="translate(2834,0)"><use data-c="33" xlink:href="#MJX-1-TEX-N-33"></use></g></g></g></g></svg></mjx-container></span>。</p><p>由于 IP 地址的每一段必须是 <code>[0, 255]</code> 中的整数，因此我们从 <code>segStart</code> 开始，从小到大依次枚举当前这一段 IP 地址的结束位置 <code>segEnd</code>。如果满足要求，就递归地进行下一段搜索，调用递归函数 <code>dfs(segId + 1, segEnd + 1)</code>。</p><p>特别地，由于 IP 地址的每一段不能有前导零，因此如果 <code>s[segStart]</code> 等于字符 <code>0</code>，那么 IP 地址的第 <code>segId</code> 段只能为 0，需要作为特殊情况进行考虑。</p><p>在递归搜索的过程中，如果我们已经得到了全部的 4 段 IP 地址（即 <code>segId = 4</code>），并且遍历完了整个字符串（即 <code>segStart = |s|</code>，其中 <code>∣s∣</code> 表示字符串 s 的长度），那么就复原出了一种满足题目要求的 IP 地址，我们将其加入答案。在其它的时刻，如果提前遍历完了整个字符串，那么我们需要结束搜索，回溯到上一步。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token keyword">const</span><span class="token plain"> </span><span class="token function-variable function">restoreIpAddress</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">s</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">const</span><span class="token plain"> </span><span class="token constant">SEG_COUNT</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">4</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">const</span><span class="token plain"> segments </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token constant">SEG_COUNT</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">const</span><span class="token plain"> ans </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">const</span><span class="token plain"> </span><span class="token function-variable function">dfs</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token parameter">s</span><span class="token parameter punctuation">,</span><span class="token parameter"> segId</span><span class="token parameter punctuation">,</span><span class="token parameter"> segStart</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token comment">// 如果找到了 4 段 IP 地址并且遍历完了字符串，那么就是一种答案</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">segId </span><span class="token operator">===</span><span class="token plain"> </span><span class="token constant">SEG_COUNT</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">segStart </span><span class="token operator">===</span><span class="token plain"> s</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        ans</span><span class="token punctuation">.</span><span class="token method function property-access">push</span><span class="token punctuation">(</span><span class="token plain">segments</span><span class="token punctuation">.</span><span class="token method function property-access">join</span><span class="token punctuation">(</span><span class="token string">&#x27;.&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token keyword control-flow">return</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">    </span><span class="token comment">// 如果还没有找到 4 段 IP 地址就已经遍历完了字符串，那么提前回溯</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">segStart </span><span class="token operator">===</span><span class="token plain"> s</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token keyword control-flow">return</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">    </span><span class="token comment">// 由于不能有前导零，如果当前数字为 0，那么这一段 IP 地址只能为 0</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">s</span><span class="token punctuation">.</span><span class="token method function property-access">charAt</span><span class="token punctuation">(</span><span class="token plain">segStart</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">===</span><span class="token plain"> </span><span class="token string">&#x27;0&#x27;</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">    </span><span class="token comment">// 一般情况，枚举每种可能性并递归</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">let</span><span class="token plain"> addr </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">for</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword">let</span><span class="token plain"> segEnd </span><span class="token operator">=</span><span class="token plain"> segStart</span><span class="token punctuation">;</span><span class="token plain"> segEnd </span><span class="token operator">&lt;</span><span class="token plain"> s</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token operator">++</span><span class="token plain">segEnd</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      addr </span><span class="token operator">=</span><span class="token plain"> addr </span><span class="token operator">*</span><span class="token plain"> </span><span class="token number">10</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">s</span><span class="token punctuation">.</span><span class="token method function property-access">charAt</span><span class="token punctuation">(</span><span class="token plain">segEnd</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">-</span><span class="token plain"> </span><span class="token string">&#x27;0&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">addr </span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token number">0</span><span class="token plain"> </span><span class="token operator">&amp;&amp;</span><span class="token plain"> addr </span><span class="token operator">&lt;=</span><span class="token plain"> </span><span class="token number">0xff</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        segments</span><span class="token punctuation">[</span><span class="token plain">segId</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> addr</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token function">dfs</span><span class="token punctuation">(</span><span class="token plain">s</span><span class="token punctuation">,</span><span class="token plain"> segId </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"> segEnd </span><span class="token operator">+</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token keyword control-flow">else</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token keyword control-flow">break</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">  </span><span class="token function">dfs</span><span class="token punctuation">(</span><span class="token plain">s</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">return</span><span class="token plain"> ans</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span></div></pre></div><hr/><p><strong>参考资料：</strong></p><ul><li><a target="_blank" rel="noopener noreferrer" href="https://leetcode-cn.com/problems/restore-ip-addresses/solution/fu-yuan-ipdi-zhi-by-leetcode-solution/">LeetCode 官方解答：复原 IP 地址<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul><style>
mjx-container[jax="SVG"] {
  direction: ltr;
}

mjx-container[jax="SVG"] > svg {
  overflow: visible;
  min-height: 1px;
  min-width: 1px;
}

mjx-container[jax="SVG"] > svg a {
  fill: blue;
  stroke: blue;
}

mjx-container[jax="SVG"][display="true"] {
  display: block;
  text-align: center;
  margin: 1em 0;
}

mjx-container[jax="SVG"][display="true"][width="full"] {
  display: flex;
}

mjx-container[jax="SVG"][justify="left"] {
  text-align: left;
}

mjx-container[jax="SVG"][justify="right"] {
  text-align: right;
}

g[data-mml-node="merror"] > g {
  fill: red;
  stroke: red;
}

g[data-mml-node="merror"] > rect[data-background] {
  fill: yellow;
  stroke: none;
}

g[data-mml-node="mtable"] > line[data-line], svg[data-table] > g > line[data-line] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > rect[data-frame], svg[data-table] > g > rect[data-frame] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > .mjx-dashed, svg[data-table] > g > .mjx-dashed {
  stroke-dasharray: 140;
}

g[data-mml-node="mtable"] > .mjx-dotted, svg[data-table] > g > .mjx-dotted {
  stroke-linecap: round;
  stroke-dasharray: 0,140;
}

g[data-mml-node="mtable"] > g > svg {
  overflow: visible;
}

[jax="SVG"] mjx-tool {
  display: inline-block;
  position: relative;
  width: 0;
  height: 0;
}

[jax="SVG"] mjx-tool > mjx-tip {
  position: absolute;
  top: 0;
  left: 0;
}

mjx-tool > mjx-tip {
  display: inline-block;
  padding: .2em;
  border: 1px solid #888;
  font-size: 70%;
  background-color: #F8F8F8;
  color: black;
  box-shadow: 2px 2px 5px #AAAAAA;
}

g[data-mml-node="maction"][data-toggle] {
  cursor: pointer;
}

mjx-status {
  display: block;
  position: fixed;
  left: 1em;
  bottom: 1em;
  min-width: 25%;
  padding: .2em .4em;
  border: 1px solid #888;
  font-size: 90%;
  background-color: #F8F8F8;
  color: black;
}

foreignObject[data-mjx-xml] {
  font-family: initial;
  line-height: normal;
  overflow: visible;
}

mjx-container[jax="SVG"] path[data-c], mjx-container[jax="SVG"] use[data-c] {
  stroke-width: 3;
}
</style></div><div class="__dumi-default-layout-footer-meta"><a target="_blank" rel="noopener noreferrer" href="https://github.com/tsejx/leetcode/edit/master/docs/leetcode/backtracking/93-restore-ip-addresses.md">Edit this doc on GitHub<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><span data-updated-text="Last update: ">11/17/2021 13:06:01</span></div></div></div></div>
	<script>
  window.g_useSSR = true;
  window.g_initialProps = {};
	</script>

    <script src="/data-structure-and-algorithms-guidebook/umi.32c01ddf.js"></script>
  </body>
</html>
